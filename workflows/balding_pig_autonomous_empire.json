{
  "name": "The Balding Pig - Autonomous Merchandise Empire",
  "nodes": [
    {
      "parameters": {
        "cronExpression": "0 6 * * *",
        "triggerAtStartup": true
      },
      "id": "daily_trend_scan",
      "name": "Daily Trend Scanner",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "code": "// PHASE 1: TREND DETECTION & IDEA GENERATION\n// Using Tavily AI search + Google trends + Social monitoring\n\nconst trendSources = [\n  'social media trending topics',\n  'google trending searches',\n  'reddit hot topics',\n  'tiktok viral content',\n  'twitter trending hashtags',\n  'cultural events and news',\n  'seasonal trends',\n  'meme culture shifts'\n];\n\nconst bald_pig_themes = [\n  'satirical office humor',\n  'self-deprecating baldness jokes',\n  'pig-related puns',\n  'workplace cynicism',\n  'middle-age crisis comedy',\n  'irish cultural references',\n  'food and lifestyle satire',\n  'anti-corporate sentiment'\n];\n\n// Generate trend research queries\nconst research_queries = [];\nfor (const source of trendSources) {\n  for (const theme of bald_pig_themes) {\n    research_queries.push({\n      query: `${source} ${theme} merchandise trends 2025`,\n      source: source,\n      theme: theme,\n      priority: Math.random() > 0.5 ? 'high' : 'medium'\n    });\n  }\n}\n\n// Return top 20 research queries\nreturn research_queries.slice(0, 20).map(item => ({ json: item }));"
      },
      "id": "trend_generator",
      "name": "Trend Research Generator",
      "type": "@kenkaiii/n8n-nodes-supercode",
      "typeVersion": 1,
      "position": [450, 300]
    },
    {
      "parameters": {
        "query": "={{ $json.query }}",
        "max_results": 10
      },
      "id": "tavily_search",
      "name": "AI Trend Research",
      "type": "n8n-nodes-tavily",
      "typeVersion": 1,
      "position": [650, 300]
    },
    {
      "parameters": {
        "resource": "chat",
        "operation": "complete", 
        "model": "deepseek-chat",
        "prompt": {\n          \"messages\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"You are The Balding Pig's creative director. Analyze trends and generate satirical, humorous merchandise ideas. Focus on self-deprecating humor about baldness, office life, and Irish culture. Make it edgy but commercially viable.\"\n            },\n            {\n              \"role\": \"user\",\n              \"content\": \"Trend Data: {{ $json.content }}\\n\\nSource: {{ $json.source }}\\nTheme: {{ $json.theme }}\\n\\nGenerate 3 specific merchandise ideas (t-shirt slogans, hoodie designs, mug sayings) that combine this trend with Balding Pig humor. Include target audience and marketing angle.\"\n            }\n          ]\n        },\n        \"options\": {\n          \"temperature\": 0.8,\n          \"max_tokens\": 500\n        }\n      },\n      \"id\": \"idea_generation\",\n      \"name\": \"AI Idea Generator\",\n      \"type\": \"n8n-nodes-deepseek\",\n      \"typeVersion\": 1,\n      \"position\": [850, 300]\n    },\n    {\n      \"parameters\": {\n        \"code\": \"// PHASE 2: DESIGN BRIEF CREATION\\n// Process AI-generated ideas into actionable design briefs\\n\\nconst ideas = $input.all();\\nconst designBriefs = [];\\n\\nfor (const item of ideas) {\\n  const content = item.json.choices[0].message.content;\\n  \\n  // Parse the AI response for merchandise ideas\\n  const lines = content.split('\\\\n');\\n  let currentIdea = {};\\n  \\n  for (const line of lines) {\\n    if (line.includes('T-shirt:') || line.includes('t-shirt:')) {\\n      currentIdea.product_type = 'tshirt';\\n      currentIdea.slogan = line.replace(/.*t-shirt:?\\\\s*/i, '').replace(/[\\\"']/g, '');\\n    } else if (line.includes('Hoodie:') || line.includes('hoodie:')) {\\n      currentIdea.product_type = 'hoodie';\\n      currentIdea.slogan = line.replace(/.*hoodie:?\\\\s*/i, '').replace(/[\\\"']/g, '');\\n    } else if (line.includes('Mug:') || line.includes('mug:')) {\\n      currentIdea.product_type = 'mug';\\n      currentIdea.slogan = line.replace(/.*mug:?\\\\s*/i, '').replace(/[\\\"']/g, '');\\n    }\\n    \\n    if (line.includes('Target:') || line.includes('audience:')) {\\n      currentIdea.target_audience = line.replace(/.*target:?\\\\s*/i, '').replace(/.*audience:?\\\\s*/i, '');\\n    }\\n    \\n    if (line.includes('Marketing:') || line.includes('angle:')) {\\n      currentIdea.marketing_angle = line.replace(/.*marketing:?\\\\s*/i, '').replace(/.*angle:?\\\\s*/i, '');\\n    }\\n    \\n    // Complete idea, add to briefs\\n    if (currentIdea.slogan && currentIdea.product_type) {\\n      designBriefs.push({\\n        ...currentIdea,\\n        trend_source: item.json.source || 'unknown',\\n        priority: Math.random() > 0.7 ? 'high' : 'medium',\\n        created_date: new Date().toISOString(),\\n        status: 'ready_for_design'\\n      });\\n      currentIdea = {};\\n    }\\n  }\\n}\\n\\n// Return top 10 design briefs\\nreturn designBriefs.slice(0, 10).map(brief => ({ json: brief }));\"\n      },\n      \"id\": \"design_brief_processor\",\n      \"name\": \"Design Brief Creator\",\n      \"type\": \"@kenkaiii/n8n-nodes-supercode\",\n      \"typeVersion\": 1,\n      \"position\": [1050, 300]\n    },\n    {\n      \"parameters\": {\n        \"prompt\": \"Create a satirical, humorous design for The Balding Pig merchandise. Slogan: '{{ $json.slogan }}'. Product: {{ $json.product_type }}. Style: Clean, bold typography with subtle pig/baldness imagery. Color scheme: Black, white, with accent colors. Target: {{ $json.target_audience }}. Make it commercially appealing but edgy.\",\n        \"steps\": 20,\n        \"width\": 1024,\n        \"height\": 1024\n      },\n      \"id\": \"comfyui_design\",\n      \"name\": \"AI Design Generation\",\n      \"type\": \"n8n-nodes-comfyui-image-to-image\",\n      \"typeVersion\": 3,\n      \"position\": [1250, 300]\n    },\n    {\n      \"parameters\": {\n        \"code\": \"// PHASE 3: PRODUCT CREATION & LISTING AUTOMATION\\n// Generate product listings for multiple platforms\\n\\nconst designData = $input.all();\\nconst products = [];\\n\\nfor (const item of designData) {\\n  const brief = item.json;\\n  \\n  // Create product variants\\n  const baseProduct = {\\n    title: `The Balding Pig - ${brief.slogan}`,\\n    description: `Satirical ${brief.product_type} perfect for ${brief.target_audience}. ${brief.marketing_angle}. High-quality print, comfortable fit. Join The Balding Pig revolution!`,\\n    product_type: brief.product_type,\\n    slogan: brief.slogan,\\n    design_url: item.json.image_url || 'pending',\\n    sku: `BP-${brief.product_type.toUpperCase()}-${Date.now()}`,\\n    created_date: new Date().toISOString()\\n  };\\n  \\n  // Generate variants (sizes, colors)\\n  const sizes = brief.product_type === 'mug' ? ['11oz', '15oz'] : ['S', 'M', 'L', 'XL', 'XXL'];\\n  const colors = ['Black', 'White', 'Navy', 'Grey'];\\n  \\n  for (const color of colors) {\\n    for (const size of sizes) {\\n      products.push({\\n        ...baseProduct,\\n        variant: `${color} - ${size}`,\\n        color: color,\\n        size: size,\\n        price: brief.product_type === 'mug' ? 14.99 : brief.product_type === 'hoodie' ? 34.99 : 19.99,\\n        platform_ready: true\\n      });\\n    }\\n  }\\n}\\n\\nreturn products.map(product => ({ json: product }));\"\n      },\n      \"id\": \"product_generator\",\n      \"name\": \"Product Listing Generator\",\n      \"type\": \"@kenkaiii/n8n-nodes-supercode\",\n      \"typeVersion\": 1,\n      \"position\": [1450, 300]\n    },\n    {\n      \"parameters\": {\n        \"message\": \"üê∑ NEW BALDING PIG PRODUCT ALERT! üê∑\\n\\n{{ $json.title }}\\nPrice: ${{ $json.price }}\\nSizes: {{ $json.size }}\\n\\n{{ $json.description }}\\n\\n#TheBaldingPig #SatiricalMerchandise #OfficeHumor #BaldAndProud\",\n        \"platforms\": [\"twitter\", \"facebook\", \"instagram\"]\n      },\n      \"id\": \"social_media_post\",\n      \"name\": \"Auto Social Media Marketing\",\n      \"type\": \"n8n-nodes-auto-socials-post\",\n      \"typeVersion\": 1,\n      \"position\": [1650, 200]\n    },\n    {\n      \"parameters\": {\n        \"message\": \"New Balding Pig product launched! {{ $json.title }} - Perfect for {{ $json.target_audience }}. Check it out and let us know what you think!\",\n        \"chatId\": \"YOUR_WHATSAPP_GROUP_ID\"\n      },\n      \"id\": \"whatsapp_notification\",\n      \"name\": \"WhatsApp Team Alert\",\n      \"type\": \"n8n-nodes-evolution-api\",\n      \"typeVersion\": 1,\n      \"position\": [1650, 400]\n    }\n  ],\n  \"connections\": {\n    \"daily_trend_scan\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"trend_generator\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"trend_generator\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"tavily_search\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"tavily_search\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"idea_generation\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"idea_generation\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"design_brief_processor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"design_brief_processor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"comfyui_design\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"comfyui_design\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"product_generator\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"product_generator\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"social_media_post\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"whatsapp_notification\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": true,\n  \"settings\": {},\n  \"id\": \"balding_pig_autonomous_empire\"\n}